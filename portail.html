<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Gestion R√©cepteurs</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <button class="btn-commencer" id="menuToggle" onclick="toggleMenu()">‚ò∞</button>

    <!-- Menu d√©roulant -->
    <div class="menu-deroulant" id="menu">
        <ul>
            <li onclick="changerPage('home.html')">‚Üê Accueil</li>
	    <li onclick="changerPage('gestion.html')">Contr√¥le des recepteurs</li>
            <li onclick="changerPage('index.html')">Se d√©connecter</li>
        </ul>
    </div>
    
    <!-- Page de contr√¥le -->
    <div class="controle" id="controle">
        <h1 class="titre">Heno DOMOTIQUE</h1>
        <div class="volet">
            <h2>Contr√¥le Portail</h2>

            <!--------------- Bloc Portail 1------------------------->
            <div class="led">
                <div class="icon">üö™</div>
                <span>Portail Ext√©rieure 1</span>
                <span id="etat1">Fermer</span>


                <div class="manuel" id="manuel-r1">
                    <button class="btn btn-on" onclick="demarrerRecepteur('p1')">Ouvrir</button>
                    <button class="btn btn-off" onclick="arreterRecepteur('p1')">Fermer</button>
                </div>
            </div>

            <!--------------- Bloc Portail 2------------------------->
            <div class="led">
                <div class="icon">üö™</div>
                <span>Portail Ext√©rieure 2</span>
                <span id="etat1">Fermer</span>


                <div class="manuel" id="manuel-r1">
                    <button class="btn btn-on" onclick="demarrerRecepteur('p1')">Ouvrir</button>
                    <button class="btn btn-off" onclick="arreterRecepteur('p1')">Fermer</button>
                </div>
            </div>

        </div>
    </div>
    <script>
        var ip = "192.168.226.223"
	    function changerPage(page) {
            window.location.href = page;
        }

	    function toggleMenu() {
            const menu = document.getElementById("menu");
            const toggleBtn = document.getElementById("menuToggle");
            menu.classList.toggle("visible");
            toggleBtn.textContent = menu.classList.contains("visible") ? "‚úñ" : "‚ò∞";
        }

        function demarrerRecepteur(id) {
            alert(`R√©cepteur ${id} Ouvert`);
	        document.getElementById(`${id}`).textContent = 'Ouvert';
            fetch('http://192.168.226.223/r1on')
        }

        function arreterRecepteur(id) {
            alert(`R√©cepteur ${id} ferm√©`);
	        document.getElementById(`${id}`).textContent = 'ferm√©';
            fetch('http://192.168.226.223/r1off')
        }

    </script>
</body>
</html>
