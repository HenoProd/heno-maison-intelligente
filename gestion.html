<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Heno DOMOTIQUE</title>
</head>
<body>
    <button class="btn-commencer" id="menuToggle" onclick="toggleMenu()">‚ò∞</button>

    <!-- Menu d√©roulant -->
    <div class="menu-deroulant" id="menu">
        <ul>
            <li onclick="changerPage('portail.html')">Portail</li>
	    <li onclick="changerPage('home.html')">‚Üê Accueil</li>
            <li onclick="changerPage('index.html')">Se d√©connecter</li>
        </ul>
    </div>
    <!-- Page d'accueil -->

    <!-- Page de contr√¥le -->
    <div class="controle" id="controle">
        <h1 class="titre">Heno DOMOTIQUE</h1>
        <div class="volet">
            <h2>Contr√¥le des LEDs</h2>

            <!--------------- Bloc led 1------------------------->>
            <div class="led">
                <div class="icon">üí°</div>
                <span>LED Ext√©rieure 1</span>
                <span id="etat1">  √âteinte</span>

                <div class="volets">
                    <select classe="mode" onchange="changerMode(this, 'r1')">
                        <option value="manuel">Manuel</option>
                        <option value="automatique">Automatique</option>
                    </select>
                </div>

                <div class="manuel" id="manuel-r1">
                    <button class="btn btn-on" onclick="demarrerRecepteur('r5')">Allumer</button>
                    <button class="btn btn-off" onclick="arreterRecepteur('r5')">Eteindre</button>
                </div>
    
                <!-- Contr√¥le Automatique -->
                <div class="automatique" id="automatique-r1" style="display:none;">
                    <label>Dur√©e (minutes) :</label>
                    <input type="number" id="duree-r1" placeholder="Ex: 30"><br>
                    <label>Ou bien :</label><br>
                    <label>Nombre de jours :</label><br>
                    <input type="number" id="jours-r1" placeholder="Ex: 2"><br>
                    <label>Date d√©but:</label><br>
                    <input type="datetime-local" id="debut-r1"><br>
                    <label>Date fin:</label><br>
                    <input type="datetime-local" id="fin-r1"><br>
                    <button class="btn btn-on" onclick="programmerRecepteur('r1')">Lancer Programme</button>
                </div>
            </div>

            <!--------------- Bloc led 2------------------------->>
            <div class="led">
                <div class="icon">üí°</div>
                <span>LED Ext√©rieure 2</span>
                <span id="etat1">  √âteinte</span>

                <div class="volets">
                    <select classe="mode" onchange="changerMode(this, 'r1')">
                        <option value="manuel">Manuel</option>
                        <option value="automatique">Automatique</option>
                    </select>
                </div>

                <div class="manuel" id="manuel-r1">
                    <button class="btn btn-on" onclick="demarrerRecepteur('r5')">Allumer</button>
                    <button class="btn btn-off" onclick="arreterRecepteur('r5')">Eteindre</button>
                </div>
    
                <!-- Contr√¥le Automatique -->
                <div class="automatique" id="automatique-r1" style="display:none;">
                    <label>Dur√©e (minutes) :</label>
                    <input type="number" id="duree-r1" placeholder="Ex: 30"><br>
                    <label>Ou bien :</label><br>
                    <label>Nombre de jours :</label><br>
                    <input type="number" id="jours-r1" placeholder="Ex: 2"><br>
                    <label>Date d√©but:</label><br>
                    <input type="datetime-local" id="debut-r1"><br>
                    <label>Date fin:</label><br>
                    <input type="datetime-local" id="fin-r1"><br>
                    <button class="btn btn-on" onclick="programmerRecepteur('r1')">Lancer Programme</button>
                </div>
            </div>

            <!--------------- Bloc led 3------------------------->>
            <div class="led">
                <div class="icon">üí°</div>
                <span>LED Salon</span>
                <span id="etat1">√âteinte</span>

                <div class="volets">
                    <select classe="mode" onchange="changerMode(this, 'r1')">
                        <option value="manuel">Manuel</option>
                        <option value="automatique">Automatique</option>
                    </select>
                </div>

                <div class="manuel" id="manuel-r1">
                    <button class="btn btn-on" onclick="demarrerRecepteur('r5')">Allumer</button>
                    <button class="btn btn-off" onclick="arreterRecepteur('r5')">Eteindre</button>
                </div>
    
                <!-- Contr√¥le Automatique -->
                <div class="automatique" id="automatique-r1" style="display:none;">
                    <label>Dur√©e (minutes) :</label>
                    <input type="number" id="duree-r1" placeholder="Ex: 30"><br>
                    <label>Ou bien :</label><br>
                    <label>Nombre de jours :</label><br>
                    <input type="number" id="jours-r1" placeholder="Ex: 2"><br>
                    <label>Date d√©but:</label><br>
                    <input type="datetime-local" id="debut-r1"><br>
                    <label>Date fin:</label><br>
                    <input type="datetime-local" id="fin-r1"><br>
                    <button class="btn btn-on" onclick="programmerRecepteur('r1')">Lancer Programme</button>
                </div>
            </div>
            <!--------------- Bloc led 4------------------------->>
            <div class="led">
                <div class="icon">üí°</div>
                <span>LED chambre</span>
                <span id="etat1">  √âteinte</span>

                <div class="volets">
                    <select classe="mode" onchange="changerMode(this, 'r1')">
                        <option value="manuel">Manuel</option>
                        <option value="automatique">Automatique</option>
                    </select>
                </div>

                <div class="manuel" id="manuel-r1">
                    <button class="btn btn-on" onclick="demarrerRecepteur('r5')">Allumer</button>
                    <button class="btn btn-off" onclick="arreterRecepteur('r5')">Eteindre</button>
                </div>
    
                <!-- Contr√¥le Automatique -->
                <div class="automatique" id="automatique-r1" style="display:none;">
                    <label>Dur√©e (minutes) :</label>
                    <input type="number" id="duree-r1" placeholder="Ex: 30"><br>
                    <label>Ou bien :</label><br>
                    <label>Nombre de jours :</label><br>
                    <input type="number" id="jours-r1" placeholder="Ex: 2"><br>
                    <label>Date d√©but:</label><br>
                    <input type="datetime-local" id="debut-r1"><br>
                    <label>Date fin:</label><br>
                    <input type="datetime-local" id="fin-r1"><br>
                    <button class="btn btn-on" onclick="programmerRecepteur('r1')">Lancer Programme</button>
                </div>
            </div>

            <!--------------- Bloc led 5------------------------->>
            <div class="led">
                <div class="icon">üí°</div>
                <span>LED chambre filles</span>
                <span id="etat1">√âteinte</span>

                <div class="volets">
                    <select classe="mode" onchange="changerMode(this, 'r1')">
                        <option value="manuel">Manuel</option>
                        <option value="automatique">Automatique</option>
                    </select>
                </div>

                <div class="manuel" id="manuel-r1">
                    <button class="btn btn-on" onclick="demarrerRecepteur('r5')">Allumer</button>
                    <button class="btn btn-off" onclick="arreterRecepteur('r5')">Eteindre</button>
                </div>
    
                <!-- Contr√¥le Automatique -->
                <div class="automatique" id="automatique-r1" style="display:none;">
                    <label>Dur√©e (minutes) :</label>
                    <input type="number" id="duree-r1" placeholder="Ex: 30"><br>
                    <label>Ou bien :</label><br>
                    <label>Nombre de jours :</label><br>
                    <input type="number" id="jours-r1" placeholder="Ex: 2"><br>
                    <label>Date d√©but:</label><br>
                    <input type="datetime-local" id="debut-r1"><br>
                    <label>Date fin:</label><br>
                    <input type="datetime-local" id="fin-r1"><br>
                    <button class="btn btn-on" onclick="programmerRecepteur('r1')">Lancer Programme</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        function changerPage(page) {
            window.location.href = page;
        }

	    function toggleMenu() {
            const menu = document.getElementById("menu");
            const toggleBtn = document.getElementById("menuToggle");
            menu.classList.toggle("visible");
            toggleBtn.textContent = menu.classList.contains("visible") ? "‚úñ" : "‚ò∞";
        }

        function changerEtat(led, etat) {
            console.log(`LED ${led} => ${etat}`);
            document.getElementById(`etat${led}`).textContent = etat === 'on' ? 'Allum√©e' : '√âteinte';
        }

        
        function changerMode(select, id) {
            const mode = select.value;
            document.getElementById(`manuel-${id}`).style.display = (mode === 'manuel') ? 'block' : 'none';
            document.getElementById(`automatique-${id}`).style.display = (mode === 'automatique') ? 'block' : 'none';
        }

        function programmerRecepteur(id) {
            const duree = document.getElementById(`duree-${id}`).value;
            const jours = document.getElementById(`jours-${id}`).value;
            const debut = document.getElementById(`debut-${id}`).value;
            const fin = document.getElementById(`fin-${id}`).value;

            if (duree) {
                alert(`R√©cepteur ${id} programm√© pour ${duree} minutes.`);
            } else if (jours) {
                alert(`R√©cepteur ${id} programm√© pour ${jours} jours.`);
            } else {
                alert(`R√©cepteur ${id} programm√© de ${debut} √† ${fin}`);
            }
        }
    </script>
</body>
</html>
